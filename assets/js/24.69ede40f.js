(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{440:function(s,a,n){"use strict";n.r(a);var t=n(62),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("节流和防抖是较为相似的概念，本文先从概念上理解，然后探讨其应用场景，最后实现这两个函数。")]),s._v(" "),n("h2",{attrs:{id:"节流"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#节流"}},[s._v("#")]),s._v(" 节流")]),s._v(" "),n("h3",{attrs:{id:"_1-概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-概念"}},[s._v("#")]),s._v(" 1. 概念")]),s._v(" "),n("p",[s._v("用户的方法在某个时间段只执行一次，即每指定时间内最多只调用一个函数。")]),s._v(" "),n("p",[s._v("用一个自身理解的例子来说就是：建造水坝在河道中，我们不能让水不能流动，而是只能让水流动慢一些。")]),s._v(" "),n("h3",{attrs:{id:"_2-应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-应用场景"}},[s._v("#")]),s._v(" 2. 应用场景")]),s._v(" "),n("ol",[n("li",[s._v("搜索框输入时的实时联想")]),s._v(" "),n("li",[s._v("监听 scroll 事件计算位置信息")])]),s._v(" "),n("h3",{attrs:{id:"_3-流程图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-流程图"}},[s._v("#")]),s._v(" 3. 流程图")]),s._v(" "),n("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/279c2848674945aa8142b431683ec031~tplv-k3u1fbpfcp-zoom-1.image",width:"50%"}}),s._v(" "),n("h3",{attrs:{id:"_4-代码实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-代码实现"}},[s._v("#")]),s._v(" 4. 代码实现")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function throttle(func, wait) {\n  let lastTime = 0;    // 上一次执行时间\n  let time = null;    // 定时器\n\n  return function () {\n    if (time) {\n      clearTimeout(time);         // 清除定时器\n      time = null;\n    }\n\n    let self = this;\n    let args = arguments;\n    let nowTime = +new Date();\n\n    const remainWaitTime = wait - (nowTime - lastTime);     // 剩余等待执行时间\n\n    if (remainWaitTime <= 0) {\n      // 更新执行时间，执行函数\n      lastTime = nowTime;\n      func.apply(self, args);\n    } else {\n      // 在剩余执行时间过后，更新时间，执行函数，重置定时器\n      timer = setTimeout(function () {\n        lastTime = +new Date();\n        func.apply(self, args);\n        timer = null;\n      }, remainWaitTime);\n    }\n  };\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")])]),n("h2",{attrs:{id:"防抖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#防抖"}},[s._v("#")]),s._v(" 防抖")]),s._v(" "),n("h3",{attrs:{id:"_1-概念-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-概念-2"}},[s._v("#")]),s._v(" 1. 概念")]),s._v(" "),n("p",[s._v("在某个事件内的N个动作会被忽略，只有事件后"),n("code",[s._v("由程序触发")]),s._v("的动作是有效的。直白一点的话，就是"),n("strong",[s._v("自最近一次触发后延迟指定时间调用函数。")])]),s._v(" "),n("p",[s._v("用一个自身理解的例子就是：我正在抖腿，等到不抖腿了才会行走。")]),s._v(" "),n("h3",{attrs:{id:"_2-应用场景-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-应用场景-2"}},[s._v("#")]),s._v(" 2. 应用场景")]),s._v(" "),n("ol",[n("li",[n("code",[s._v("input")]),s._v("输入框架的格式验证")]),s._v(" "),n("li",[s._v("提交按钮的点击事件")])]),s._v(" "),n("h3",{attrs:{id:"_3-流程图-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-流程图-2"}},[s._v("#")]),s._v(" 3. 流程图")]),s._v(" "),n("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/310c98935a444b40ac9aa4a475020ed6~tplv-k3u1fbpfcp-zoom-1.image",width:"30%"}}),s._v(" "),n("h3",{attrs:{id:"_4-代码实现-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-代码实现-2"}},[s._v("#")]),s._v(" 4. 代码实现")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function debounce(func, wait) {\n  let time = null;\n  \n  return function() {\n    if (time) {\n      clearTimeout(time);    // 清除定时器\n      time = null;\n    }\n    \n    let self = this;\n    let args = arguments;\n  \n    time = setTimeout(function () {\n      func.apply(self, args);     // 执行函数\n      time = null;\n    }, wait);\n  }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);